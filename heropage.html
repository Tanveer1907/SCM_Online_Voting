<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Online Voting System</title>
  <link rel="stylesheet" href="styles.css"/>
  

</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-brand">Online Voting System</div>
    <ul class="nav-links">
      <li><a href="#">Home</a></li>
      <li><a href="#about-us">About Us</a></li>
      <li><a href="#faq">FAQ</a></li>
      <li><a href="login.html" class="sign-in-btn">Sign In</a></li>      
    </ul>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-container">
      <div class="hero-left">
        <h1>Simple. Secure. Smart Voting.</h1>
        <p>Create polls in seconds, vote anonymously, and see instant results.</p>
        <button class="get-started-btn" onclick="window.location.href='login.html'">Get Started</button>

      </div>
      <div class="hero-right">
        <div class="stats-grid">
          <div class="stat-box">
            <h2 id="votes">0</h2>
            <p>Votes Cast</p>
          </div>
          <div class="stat-box">
            <h2 id="polls">0</h2>
            <p>Polls Created</p>
          </div>
          <div class="stat-box">
            <h2 id="users">0</h2>
            <p>Active Users</p>
          </div>
        </div>
      </div>
    </div>
    


    <!-- Demo Video -->
    <div class="demo-section">
      <h3>See How It Works</h3>
      <video class="demo-video" autoplay muted loop playsinline>
        <source src="demo.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>
  </section>

  <!-- Popular Polls Section -->
  <section class="popular-polls">
    <h2>Popular Polls</h2>
    <div class="poll-cards">
      <div class="poll-card">
        <h4>Best Programming Language 2025</h4>
        <p>Used by 4,320 voters</p>
      </div>
      <div class="poll-card">
        <h4>College Fest Theme Selection</h4>
        <p>Used by 2,018 voters</p>
      </div>
      <div class="poll-card">
        <h4>Mass Bunk Tomorrow?</h4>
        <p>Used by 785 voters</p>
      </div>
    </div>
  </section>

  <!-- About Us Section -->
  <section id="about-us" class="about">
    <h2>About Us</h2>
    <p>Our platform enables you to create customizable polls for elections, group decisions, and more. Itâ€™s secure, fast, and free to use. Start a poll and invite your friends or colleagues with a simple link.</p>
  </section>

  <!-- Testimonials -->
  <section class="testimonials">
    <h2>What Our Users Say</h2>
    <div class="testimonial-cards">
      <div class="testimonial">
        <p>"Super easy to create a poll and share it with my team. Love the simplicity!"</p>
        <h4>- Priya R.</h4>
      </div>
      <div class="testimonial">
        <p>"Very useful for college elections. Transparent and fair."</p>
        <h4>- Ankit M.</h4>
      </div>
      <div class="testimonial">
        <p>"I used it to decide dinner plans with friends. Perfect tool for quick votes!"</p>
        <h4>- Sarah L.</h4>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Online Voting System. All rights reserved.</p>
  </footer>

  <script src="script.js"></script>
  <script>
    function renderNavRight() {
      const navRight = document.getElementById('navRight');
      const user = JSON.parse(localStorage.getItem('user'));
      if (user) {
        // Use Google profile picture if available, else generate avatar
        const avatar = user.picture ||
          `https://ui-avatars.com/api/?name=${encodeURIComponent(user.name || user.email || "U")}&background=0D47A1&color=fff&rounded=true`;
        navRight.innerHTML = `
          <div class="profile-menu" style="position: relative; display: inline-block;">
            <img src="${avatar}" alt="Profile" class="profile-pic" id="profilePic" style="width:36px;height:36px;border-radius:50%;object-fit:cover;vertical-align:middle;cursor:pointer;">
            <div class="dropdown-menu" id="dropdownMenu" style="display:none;position:absolute;right:0;top:44px;background:#fff;min-width:160px;box-shadow:0 8px 24px rgba(0,0,0,0.12);border-radius:8px;z-index:1001;padding:0.5rem 0;text-align:left;">
              <div class="dropdown-header" style="padding:0.75rem 1.25rem;font-weight:600;color:#003366;border-bottom:1px solid #f0f0f0;">
                ${user.name || user.email || "Account"}
              </div>
              <button onclick="logout()" class="dropdown-logout" style="width:100%;background:none;border:none;color:#d32f2f;font-size:1rem;padding:0.75rem 1.25rem;text-align:left;cursor:pointer;border-radius:0 0 8px 8px;transition:background 0.2s;">Logout</button>
            </div>
          </div>
        `;
        // Toggle dropdown on click
        document.getElementById('profilePic').onclick = function(e) {
          e.stopPropagation();
          const menu = document.getElementById('dropdownMenu');
          menu.style.display = (menu.style.display === "block") ? "none" : "block";
        };
        // Hide dropdown when clicking outside
        document.addEventListener('click', function() {
          const menu = document.getElementById('dropdownMenu');
          if (menu) menu.style.display = "none";
        });
      } else {
        navRight.innerHTML = `<a href="login.html" class="sign-in-btn">Sign In</a>`;
      }
    }
  
    function logout() {
      localStorage.removeItem('user');
      window.location.href = "login.html";
    }
  
    window.addEventListener('DOMContentLoaded', renderNavRight);
  </script>
  
</body>
</html>
